(this.webpackJsonpsubscription=this.webpackJsonpsubscription||[]).push([[0],{105:function(e,t,a){e.exports={alignRight:"App_alignRight__2Gbut",floatRight:"App_floatRight__21BHR",clearfix:"App_clearfix__3eMrM",innerWrapper:"App_innerWrapper__13ICm",leftbox:"App_leftbox__1FX9m",rightbox:"App_rightbox__38EWc"}},135:function(e,t,a){e.exports={alignRight:"parameters_alignRight__VAvx-",floatRight:"parameters_floatRight__1QX5u",clearfix:"parameters_clearfix__27-Cr",smallInfo:"parameters_smallInfo__3hACD"}},164:function(e,t,a){e.exports={alignRight:"Footer_alignRight__2e93x",floatRight:"Footer_floatRight__3m9Bm",clearfix:"Footer_clearfix__141BJ",footer:"Footer_footer__7dIj9"}},182:function(e,t,a){e.exports=a(348)},188:function(e,t,a){},348:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(10),s=a.n(i),c=(a(187),a(188),a(28)),o=a(29),l=a(32),u=a(30),p=a(33),m=a(164),d=a.n(m),f=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("footer",{className:d.a.footer},n.a.createElement("p",null,n.a.createElement("a",{href:""}," Subscription order process for a cloud storage ")," "))}}]),t}(r.Component),h=a(31),b=a(48),E=a.n(b),_=a(26),v=a(17),g=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:E.a.sidebar},n.a.createElement("nav",null,n.a.createElement(_.c,{exact:!0,activeClassName:E.a.active,to:"/"},n.a.createElement(v.a,{type:"heat-map"})),n.a.createElement(_.c,{activeClassName:E.a.active,className:this.props.subscription.parameters?"":E.a.disabled,to:"/user-information"},n.a.createElement(v.a,{type:"user"})),n.a.createElement(_.c,{activeClassName:E.a.active,className:this.props.subscription.user_information?"":E.a.disabled,to:"/credit-card"},n.a.createElement(v.a,{type:"credit-card"})),n.a.createElement(_.c,{activeClassName:E.a.active,className:this.props.subscription.credit_info?"":E.a.disabled,to:"/confirm"},n.a.createElement(v.a,{type:"check"}))))}}]),t}(r.Component),y=Object(h.b)((function(e){return{subscription:e.subscription}}))(g),j=a(105),O=a.n(j),N=a(54),S=a(353),x=a(355),C=a(138),A=a(135),k=a.n(A),F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).saveAndContinue=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(a.props.addParameters(t),a.props.history.push({pathname:"/user-information"}))}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.a.createElement("div",null,n.a.createElement("h1",null,"Parameters"),n.a.createElement(S.a,{onSubmit:this.saveAndContinue},n.a.createElement("div",{className:"fieldWrapper"},n.a.createElement("section",{className:"fields"},n.a.createElement("h2",null,"Duration: ",n.a.createElement("span",{className:k.a.smallInfo},"(Month)")),e("duration",{initialValue:this.props.parameters?this.props.parameters.duration:"12"})(n.a.createElement(x.a.Group,{buttonStyle:"solid"},n.a.createElement(x.a.Button,{value:"3"},"3"),n.a.createElement(x.a.Button,{value:"6"},"6"),n.a.createElement(x.a.Button,{value:"12"},"12")))),n.a.createElement("section",{className:"fields"},n.a.createElement("h2",null,"Amount:",n.a.createElement("span",{className:k.a.smallInfo},"(Gigabytes)")),e("amount",{initialValue:this.props.parameters?this.props.parameters.amount:"5"})(n.a.createElement(x.a.Group,{buttonStyle:"solid"},n.a.createElement(x.a.Button,{value:"3"},"3"),n.a.createElement(x.a.Button,{value:"5"},"5"),n.a.createElement(x.a.Button,{value:"10"},"10"),n.a.createElement(x.a.Button,{value:"20"},"20"),n.a.createElement(x.a.Button,{value:"30"},"30"),n.a.createElement(x.a.Button,{value:"50"},"50")))),n.a.createElement("section",{className:"fields"},n.a.createElement("h2",null,"Upfront payment:"),e("upfront",{initialValue:this.props.parameters?this.props.parameters.upfront:"no"})(n.a.createElement(x.a.Group,{buttonStyle:"solid"},n.a.createElement(x.a.Button,{value:"yes"},"Yes"),n.a.createElement(x.a.Button,{value:"no"},"No")))),n.a.createElement("div",{className:"sectionFooter right"},n.a.createElement(C.a,{type:"link",htmlType:"submit"},"Next",n.a.createElement(v.a,{type:"right"}))))))}}]),t}(r.Component),R=Object(N.g)(S.a.create()(F)),P="ADD_PARAMETERS",D="FETCH_PARAMETERS",B="ADD_USER_INFORMATION",I="ADD_CREDIT",w="SEND_DATA",M="SEND_DATA_SUCCESS",T="SEND_DATA_FAILURE";var V=Object(h.b)((function(e){return{parameters:e.subscription.parameters}}),(function(e){return{addParameters:function(t){return e({type:P,payload:t})}}}))(R),W=a(354),G=a(349),U=a(350),q=W.a.Group,Y=W.a.TextArea,J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).saveAndContinue=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(a.props.addUserInformation(t),a.props.history.push({pathname:"/credit-card"}))}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.a.createElement("div",null,n.a.createElement("h1",null,"User Information"),n.a.createElement(S.a,{onSubmit:this.saveAndContinue},n.a.createElement("div",{className:"fieldWrapper"},n.a.createElement("section",{className:"fields"},n.a.createElement(q,{size:"large"},n.a.createElement(G.a,{gutter:8},n.a.createElement(U.a,{span:12},n.a.createElement(S.a.Item,{label:"First Name"},e("firstname",{initialValue:this.props.user_information?this.props.user_information.firstname:"",rules:[{required:!0,message:"Please input your first name!"}]})(n.a.createElement(W.a,{placeholder:"Soheil"})))),n.a.createElement(U.a,{span:12},n.a.createElement(S.a.Item,{label:"Last Name"},e("lastname",{initialValue:this.props.user_information?this.props.user_information.lastname:"",rules:[{required:!0,message:"Please input your last name!"}]})(n.a.createElement(W.a,{placeholder:"Sadeghbayan"})))))),n.a.createElement(U.a,{span:24,className:"textarea-wrapper"},n.a.createElement(S.a.Item,{label:"Street Address"},e("streetAddress",{initialValue:this.props.user_information?this.props.user_information.streetAddress:"",rules:[{required:!0,message:"Please input your Street address!"}]})(n.a.createElement(Y,{rows:2,placeholder:"Iran - Tehran"}))))),n.a.createElement("div",{className:"sectionFooter"},n.a.createElement(C.a,{type:"link"},n.a.createElement(v.a,{type:"left"}),n.a.createElement(_.b,{to:"/"},"Back")),n.a.createElement(C.a,{type:"link",htmlType:"submit"},"Next",n.a.createElement(v.a,{type:"right"}))))))}}]),t}(r.Component),z=Object(N.g)(S.a.create()(J));var L=Object(h.b)((function(e){return{user_information:e.subscription.user_information}}),(function(e){return{addUserInformation:function(t){return e({type:B,payload:t})}}}))(z),H=a(352),K=a(11),X=a.n(K),$=H.a.MonthPicker,Q="YY/MM",Z=W.a.Group,ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).cardNumberFormat=function(e,t,r){var n=t,i=n.split(" ").join("").split(""),s=n.split("");return" "==s[s.length-1]?(n=s.slice(0,-2).join(""),a.props.form.setFieldsValue({cardNumber:n}),r()):isNaN(i.join(""))?(a.props.form.setFieldsValue({cardNumber:""}),r()):17===i.length?(a.props.form.setFieldsValue({cardNumber:s.slice(0,22).join("")}),r()):n&&i.length%4===0&&i.length<=15?(a.props.form.setFieldsValue({cardNumber:n+"  "}),r()):void r()},a.cardSecurityFromat=function(e,t,r){var n=t,i=n.split(" ").join("").split(""),s=n.split("");return isNaN(i.join(""))?(a.props.form.setFieldsValue({cardSec:""}),r()):5===i.length?(a.props.form.setFieldsValue({cardSec:s.slice(0,4).join("")}),r()):void r()},a.saveAndContinue=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){t.cardNumber=t.cardNumber.split(" ").join(""),t.cardExp=t.cardExp.format(Q),e||(a.props.addCredit(t),a.props.history.push({pathname:"/confirm"}))}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.a.createElement("div",null,n.a.createElement("h1",null,"Credit Card"),n.a.createElement(S.a,{onSubmit:this.saveAndContinue},n.a.createElement("div",{className:"fieldWrapper"},n.a.createElement("section",{className:"fields"},n.a.createElement(U.a,{span:24,className:"custom-input"},n.a.createElement(S.a.Item,{label:"Card Number"},e("cardNumber",{initialValue:this.props.credit_info?this.props.credit_info.cardNumber:"",rules:[{required:!0,message:"Please input your Card number!"},{validator:this.cardNumberFormat}]})(n.a.createElement(W.a,null)))),n.a.createElement(U.a,{span:24,className:"custom-input"},n.a.createElement(Z,{size:"large"},n.a.createElement(G.a,{gutter:8},n.a.createElement(U.a,{span:12},n.a.createElement(S.a.Item,{label:"Card expiration"},e("cardExp",{initialValue:this.props.credit_info?X()(this.props.credit_info.cardExp,Q):X()("14/01",Q),rules:[{required:!0,message:"Please input your Card expiration!"}]})(n.a.createElement($,{format:Q})))),n.a.createElement(U.a,{span:12},n.a.createElement(S.a.Item,{label:"Card security code"},e("cardSec",{initialValue:this.props.credit_info?this.props.credit_info.cardSec:"",rules:[{required:!0,message:"Please input your Card security code!"},{validator:this.cardSecurityFromat}]})(n.a.createElement(W.a,null)))))))),n.a.createElement("div",{className:"sectionFooter"},n.a.createElement(C.a,{type:"link"},n.a.createElement(v.a,{type:"left"}),n.a.createElement(_.b,{to:"/user-information"},"Back")),n.a.createElement(C.a,{type:"link",htmlType:"submit"},"Next",n.a.createElement(v.a,{type:"right"}))))))}}]),t}(r.Component),te=Object(N.g)(S.a.create()(ee));var ae=Object(h.b)((function(e){return{credit_info:e.subscription.credit_info}}),(function(e){return{addCredit:function(t){return e({type:I,payload:t})}}}))(te),re=a(356),ne=a(351),ie=a(357),se=a(72),ce=a.n(se),oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={loading:!1},a.submit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){a.setState({loading:!0});var r=[];(r=a.props.data).totalPrice={totalPrice:a.props.finalParams.totalPrice},e||a.props.submitSelectedSubscription(r)}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchParameters()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.subscription,r=a.sendServerStatus,n=a.error;if(!e.subscription.sendServerStatus&&r)return re.a.success("Your information has been submitted successfully!"),void this.setState({loading:!1});!e.subscription.error&&n&&re.a.error("Something wrong has happend !")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.a.createElement("div",null,n.a.createElement("h1",null,"Your Order"),n.a.createElement(ne.a,{spinning:this.state.loading},n.a.createElement("div",{className:"fieldWrapper"},this.props.finalParams?n.a.createElement("section",{className:ce.a.selectedSubscription},n.a.createElement("span",{className:ce.a.priceDollar},"$"),n.a.createElement("span",{className:ce.a.price},this.props.finalParams.totalPrice),n.a.createElement("span",{className:ce.a.priceTime},"/ ","12"===this.props.finalParams.parameters.duration?"1 yr":"".concat(this.props.finalParams.parameters.duration," mo")),n.a.createElement("span",{className:ce.a.desc},this.props.finalParams.parameters.amount," GB Subscription")):null,n.a.createElement(S.a,{onSubmit:this.submit},n.a.createElement(S.a.Item,null,e("agreement",{rules:[{required:!0,message:"Please check the agreement"}]})(n.a.createElement(ie.a,null,"I have read the ",n.a.createElement("a",{href:""},"agreement")))),n.a.createElement("div",{className:"sectionFooter"},n.a.createElement(C.a,{type:"link"},n.a.createElement(v.a,{type:"left"}),n.a.createElement(_.b,{to:"/credit-card"},"Back")),n.a.createElement(C.a,{type:"link",htmlType:"submit"},"Confirm",n.a.createElement(v.a,{type:"check"})))))))}}]),t}(r.Component),le=S.a.create()(oe);var ue=[{path:"/",exact:!0,component:V},{path:"/user-information",component:L},{path:"/credit-card",component:ae},{path:"/confirm",component:Object(h.b)((function(e){var t=[];return t.parameters=e.subscription.parameters,t.user_information=e.subscription.user_information,t.credit_info=e.subscription.credit_info,{subscription:e.subscription,finalParams:e.subscription.parametersWithPrice,data:t}}),(function(e){return{fetchParameters:function(){return e({type:D})},submitSelectedSubscription:function(t){return e(function(e){return{type:w,payload:e}}(t))}}}))(le)}],pe=function(e){return 0!==e.subscription.length||"/"===e.location.pathname},me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).loading=function(){return n.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:O.a.innerWrapper},n.a.createElement("div",{className:O.a.leftbox},n.a.createElement(y,null)),n.a.createElement("div",{className:O.a.rightbox},n.a.createElement(r.Suspense,{fallback:this.loading()},n.a.createElement(N.d,null,ue.map((function(t,a){return t.component?n.a.createElement(N.b,{key:a,path:t.path,exact:t.exact,name:t.name,render:function(a){var r=a.props;return pe(e.props)?n.a.createElement(t.component,r):n.a.createElement(N.a,{to:{pathname:"/"}})}}):null}))))))),n.a.createElement(f,null))}}]),t}(r.Component),de=Object(N.g)(Object(h.b)((function(e){return{subscription:e.subscription}}),null)(me)),fe=a(45),he=a(179),be=a(58),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(be.a)({},e,{parameters:t.payload,loading:!1,error:!1});case D:var a=[],r=10,n=2*e.parameters.amount,i=e.parameters.duration*n,s="yes"===e.parameters.upfront?i-i*r/100:i;return a.parameters=e.parameters,a.totalPrice=s,Object(be.a)({},e,{parametersWithPrice:a,loading:!1,error:!1});case B:return Object(be.a)({},e,{user_information:t.payload,loading:!1,error:!1});case I:return Object(be.a)({},e,{credit_info:t.payload,loading:!1,error:!1});case w:return Object(be.a)({},e,{sendServerStatus:!1,loading:!0,error:!1});case M:return Object(be.a)({},e,{confirmData:t.payload,sendServerStatus:!0,loading:!1,error:!1});case T:return Object(be.a)({},e,{loading:!1,error:!0});default:return e}},_e=Object(fe.c)({subscription:Ee}),ve=a(55),ge=a.n(ve),ye=a(56),je=a(178),Oe=a.n(je),Ne="https://httpbin.org/post",Se=ge.a.mark(ke),xe=ge.a.mark(Fe),Ce={headers:{Accept:"application/json"}};function Ae(e){var t=Object.keys(e).map((function(t){return e[t]}));return Oe.a.post(Ne,t,Ce).then((function(e){return e})).catch((function(e){return{error:e}}))}function ke(e){var t;return ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ye.b)(Ae,e.payload);case 3:if(null==(t=a.sent).error){a.next=9;break}return a.next=7,Object(ye.c)({type:T,message:t.error});case 7:a.next=11;break;case 9:return a.next=11,Object(ye.c)({type:M,getResponse:t});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(ye.c)({type:T,message:a.t0.message});case 17:case"end":return a.stop()}}),Se,null,[[0,13]])}function Fe(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.d)(w,ke);case 2:case"end":return e.stop()}}),xe)}var Re=ge.a.mark(Pe);function Pe(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Fe()]);case 2:case"end":return e.stop()}}),Re)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var De=Object(he.a)(),Be=Object(fe.e)(_e,Object(fe.a)(De));De.run(Pe),s.a.render(n.a.createElement(h.a,{store:Be},n.a.createElement(_.a,null,n.a.createElement(de,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,a){e.exports={alignRight:"SideBarMenu_alignRight__1snCM",floatRight:"SideBarMenu_floatRight__3nj_5",clearfix:"SideBarMenu_clearfix__2RJhG",sidebar:"SideBarMenu_sidebar__dGKsT",active:"SideBarMenu_active__1NKM2",disabled:"SideBarMenu_disabled__3fj4t"}},72:function(e,t,a){e.exports={alignRight:"Confirm_alignRight__1snu4",floatRight:"Confirm_floatRight__hgEOt",clearfix:"Confirm_clearfix__1nfPN",selectedSubscription:"Confirm_selectedSubscription__19vzg",price:"Confirm_price__11lcq",priceDollar:"Confirm_priceDollar__2j5g2",priceTime:"Confirm_priceTime__2wpsO",desc:"Confirm_desc__dpUAg"}}},[[182,1,2]]]);
//# sourceMappingURL=main.7788a6f3.chunk.js.map